ğŸ”¥ CORREÃ‡ÃƒO COMPLETA DO ERRO 502 - CONSOLE WEB
================================================================

ğŸ¯ PROBLEMA: MÃºltiplos erros de sintaxe no urls.py e views.py

ğŸ’¡ SOLUÃ‡ÃƒO: Recriar arquivos limpos do zero

ğŸ“‹ COMANDOS PARA COPIAR NO CONSOLE WEB (UM POR VEZ):

1ï¸âƒ£ NAVEGAR E PARAR DJANGO:
cd /var/www/monpec.com.br
pkill -9 python

2ï¸âƒ£ FAZER BACKUP DOS ARQUIVOS PROBLEMÃTICOS:
cp gestao_rural/urls.py gestao_rural/urls.py.backup
cp gestao_rural/views.py gestao_rural/views.py.backup

3ï¸âƒ£ RECRIAR URLS.PY LIMPO:
cat > gestao_rural/urls.py << 'ENDURLS'
from django.urls import path, include
from . import views

urlpatterns = [
    path('', views.dashboard, name='dashboard'),
    path('produtor/<int:produtor_id>/propriedades/', views.propriedades_lista, name='propriedades_lista'),
    path('propriedade/<int:propriedade_id>/', views.propriedade_detalhes, name='propriedade_detalhes'),
    path('propriedade/<int:propriedade_id>/modulos/', views.propriedade_modulos, name='propriedade_modulos'),
    path('propriedade/<int:propriedade_id>/pecuaria/', views.pecuaria_dashboard, name='pecuaria_dashboard'),
    path('propriedade/<int:propriedade_id>/financeiro/', views.financeiro_dashboard, name='financeiro_dashboard'),
    path('propriedade/<int:propriedade_id>/patrimonio/', views.patrimonio_dashboard, name='patrimonio_dashboard'),
    path('propriedade/<int:propriedade_id>/projetos/', views.projetos_dashboard, name='projetos_dashboard'),
    path('categorias/', views.categorias_lista, name='categorias_lista'),
]
ENDURLS

4ï¸âƒ£ LIMPAR VIEWS.PY (remover linhas problemÃ¡ticas):
head -n 1790 gestao_rural/views.py > /tmp/views_clean.py
mv /tmp/views_clean.py gestao_rural/views.py

5ï¸âƒ£ VERIFICAR SE ESTÃ OK:
source venv/bin/activate
python manage.py check

6ï¸âƒ£ SE DEU OK, INICIAR DJANGO:
python manage.py runserver 127.0.0.1:8000 > /tmp/django_limpo.log 2>&1 &

7ï¸âƒ£ AGUARDAR E VERIFICAR:
sleep 5
ps aux | grep python | grep -v grep

8ï¸âƒ£ TESTAR RESPOSTA:
curl -s http://127.0.0.1:8000 | head -3

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” SE AINDA HOUVER ERRO NO PASSO 5, EXECUTE:

VERIFICAR ERRO ESPECÃFICO:
python manage.py check --verbosity=2

LIMPAR MAIS O VIEWS.PY:
head -n 1500 gestao_rural/views.py > /tmp/views_safe.py
mv /tmp/views_safe.py gestao_rural/views.py

VERIFICAR NOVAMENTE:
python manage.py check

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“± COMANDOS RESUMIDOS (COPIE BLOCO COMPLETO):

cd /var/www/monpec.com.br && pkill -9 python && cp gestao_rural/urls.py gestao_rural/urls.py.backup && cat > gestao_rural/urls.py << 'ENDURLS'
from django.urls import path, include
from . import views

urlpatterns = [
    path('', views.dashboard, name='dashboard'),
    path('produtor/<int:produtor_id>/propriedades/', views.propriedades_lista, name='propriedades_lista'),
    path('propriedade/<int:propriedade_id>/', views.propriedade_detalhes, name='propriedade_detalhes'),
    path('propriedade/<int:propriedade_id>/modulos/', views.propriedade_modulos, name='propriedade_modulos'),
    path('propriedade/<int:propriedade_id>/pecuaria/', views.pecuaria_dashboard, name='pecuaria_dashboard'),
    path('propriedade/<int:propriedade_id>/financeiro/', views.financeiro_dashboard, name='financeiro_dashboard'),
    path('propriedade/<int:propriedade_id>/patrimonio/', views.patrimonio_dashboard, name='patrimonio_dashboard'),
    path('propriedade/<int:propriedade_id>/projetos/', views.projetos_dashboard, name='projetos_dashboard'),
    path('categorias/', views.categorias_lista, name='categorias_lista'),
]
ENDURLS

DEPOIS EXECUTE SEPARADAMENTE:
head -n 1790 gestao_rural/views.py > /tmp/views_clean.py && mv /tmp/views_clean.py gestao_rural/views.py

DEPOIS:
source venv/bin/activate && python manage.py check

SE OK:
python manage.py runserver 127.0.0.1:8000 > /tmp/django_limpo.log 2>&1 &

VERIFICAR:
sleep 5 && ps aux | grep python | grep -v grep

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ RESULTADO ESPERADO:
- âœ… Django iniciarÃ¡ sem erros
- âœ… Sistema bÃ¡sico funcionando
- âœ… PÃ¡ginas principais acessÃ­veis
- âœ… NavegaÃ§Ã£o bÃ¡sica restaurada

ğŸŒ DEPOIS DE CORRIGIR TESTE:
http://191.252.225.106

ğŸ”‘ LOGIN: admin / 123456

âœ… O SISTEMA VOLTARÃ A FUNCIONAR!
