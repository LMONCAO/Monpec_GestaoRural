{% extends 'gestao_rural/base.html' %}

{% block title %}Dashboard - Monpec Projetista{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Dashboard</h1>
    <p>Bem-vindo ao sistema de gestão rural</p>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
    <div class="card">
        <h3 style="color: #004a99; font-size: 2.5rem; margin-bottom: 0.5rem;">{{ total_proprietarios }}</h3>
        <p style="color: #666;">Proprietários</p>
    </div>
    <div class="card">
        <h3 style="color: #004a99; font-size: 2.5rem; margin-bottom: 0.5rem;">{{ total_propriedades }}</h3>
        <p style="color: #666;">Propriedades</p>
    </div>
    <div class="card">
        <h3 style="color: #004a99; font-size: 2.5rem; margin-bottom: 0.5rem;">{{ total_categorias }}</h3>
        <p style="color: #666;">Categorias</p>
    </div>
    <div class="card">
        <h3 style="color: #004a99; font-size: 2.5rem; margin-bottom: 0.5rem;">{{ total_itens }}</h3>
        <p style="color: #666;">Itens de Inventário</p>
    </div>
</div>

<div class="card">
    <h2 style="margin-bottom: 1rem;">Ações Rápidas</h2>
    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
        <a href="{% url 'proprietarios_lista' %}" class="btn btn-primary">Gerenciar Proprietários</a>
        <a href="{% url 'propriedades_lista' %}" class="btn btn-success">Gerenciar Propriedades</a>
        <a href="{% url 'categorias_lista' %}" class="btn btn-secondary">Gerenciar Categorias</a>
    </div>
</div>

{% if propriedades_stats %}
<div class="card">
    <h2 style="margin-bottom: 1rem;">Propriedades Recentes</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
        {% for propriedade in propriedades_stats %}
        <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px;">
            <h4 style="color: #333; margin-bottom: 0.5rem;">{{ propriedade.nome }}</h4>
            <p style="color: #666; font-size: 0.9rem; margin-bottom: 0.5rem;">Proprietário: {{ propriedade.proprietario.nome }}</p>
            <p style="color: #666; font-size: 0.9rem;">Itens: {{ propriedade.total_itens }} | Valor: R$ {{ propriedade.valor_total|default:"0,00" }}</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock %}
