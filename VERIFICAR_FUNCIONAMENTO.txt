========================================
‚úÖ VERIFICAR SE EST√Å FUNCIONANDO
========================================

Cloud SQL foi conectado! Agora vamos verificar.

========================================
1. CONFIRMAR CLOUD SQL CONECTADO:
========================================

gcloud run services describe monpec --region=us-central1 --format="value(spec.template.spec.containers[0].cloudSqlInstances)"

Deve retornar: monpec-sistema-rural:us-central1:monpec-db

========================================
2. VER LOGS RECENTES:
========================================

gcloud run services logs read monpec --region=us-central1 --limit=100

Procure por:
- "‚úÖ Configurado: Cloud SQL via Unix Socket"
- "üîç Diagn√≥stico de Banco de Dados"
- N√ÉO deve mais aparecer erro de "127.0.0.1"
- Verificar se migra√ß√µes executaram

========================================
3. VER LOGS DE INICIALIZA√á√ÉO:
========================================

gcloud run services logs read monpec --region=us-central1 --limit=200 | grep -i "diagn√≥stico\|configurado\|cloud\|socket\|migra√ß√µes"

========================================
4. TESTAR ACESSO:
========================================

curl -I https://monpec-29862706245.us-central1.run.app

Ou acesse no navegador:
https://monpec-29862706245.us-central1.run.app

========================================
5. VERIFICAR SE BANCO EXISTE:
========================================

gcloud sql databases list --instance=monpec-db

Se sistema_rural n√£o existir, criar:
gcloud sql databases create sistema_rural --instance=monpec-db

========================================
O QUE ESPERAR:
========================================

‚úÖ Logs devem mostrar conex√£o via Unix Socket
‚úÖ N√£o deve mais ter erro de 127.0.0.1
‚úÖ Migra√ß√µes devem executar automaticamente
‚úÖ Servi√ßo deve responder HTTP 200 (n√£o 403)

========================================







