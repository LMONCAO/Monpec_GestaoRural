========================================
COMO ATUALIZAR O DEPLOY COM OS DADOS INICIAIS
========================================

PROBLEMA IDENTIFICADO:
- O sistema foi deployado mas os dados iniciais (categorias e admin) n√£o foram carregados
- O arquivo entrypoint.sh foi corrigido para carregar os dados automaticamente

SOLU√á√ÉO:
Voc√™ precisa fazer um NOVO DEPLOY para que as mudan√ßas sejam aplicadas.

========================================
OP√á√ÉO 1: DEPLOY DIRETO (MAIS SIMPLES)
========================================

Execute este comando no PowerShell ou CMD (na pasta do projeto):

gcloud run deploy monpec --source . --region us-central1 --platform managed --allow-unauthenticated

O comando vai:
1. Fazer build da aplica√ß√£o (incluindo o entrypoint.sh atualizado)
2. Fazer deploy no Cloud Run
3. Quando o container iniciar, vai executar automaticamente:
   - Migra√ß√µes
   - Carregar categorias de animais
   - Criar usu√°rio admin

========================================
OP√á√ÉO 2: SE VOC√ä USA GIT
========================================

1. Adicionar os arquivos modificados:
   git add entrypoint.sh
   git add gestao_rural/management/commands/carregar_categorias.py

2. Fazer commit:
   git commit -m "Adicionar carregamento autom√°tico de dados iniciais no deploy"

3. Fazer push (se usar reposit√≥rio remoto):
   git push

4. Fazer deploy:
   gcloud run deploy monpec --source . --region us-central1 --platform managed --allow-unauthenticated

========================================
VERIFICAR SE FUNCIONOU
========================================

Ap√≥s o deploy, verifique os logs:

gcloud run services logs read monpec --region=us-central1 --limit=100

Procure por estas mensagens:
‚úÖ "üì¶ Carregando dados iniciais..."
‚úÖ "‚úÖ Categorias carregadas com sucesso!"
‚úÖ "üë§ Garantindo usu√°rio admin..."
‚úÖ "‚úÖ Usu√°rio admin criado/encontrado"

========================================
TESTAR O SISTEMA
========================================

1. Acesse: https://monpec-29862706245.us-central1.run.app

2. Fa√ßa login com:
   Username: admin
   Senha: L6171r12@@

3. Verifique se as categorias de animais aparecem no sistema

========================================
SE PRECISAR CARREGAR DADOS MANUALMENTE
========================================

Se o deploy autom√°tico n√£o funcionar, voc√™ pode carregar os dados manualmente
usando Cloud Run Jobs ou conectando diretamente ao banco.

Comandos para executar manualmente:
python manage.py carregar_categorias --settings=sistema_rural.settings_gcp
python manage.py garantir_admin --settings=sistema_rural.settings_gcp

========================================







