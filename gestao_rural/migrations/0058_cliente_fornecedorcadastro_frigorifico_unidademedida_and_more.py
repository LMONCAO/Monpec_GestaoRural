# Generated by Django 4.2.7 on 2025-11-26 22:39

from decimal import Decimal
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('gestao_rural', '0057_adicionar_codigo_planejamento'),
    ]

    operations = [
        migrations.CreateModel(
            name='Cliente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome/Razão Social')),
                ('nome_fantasia', models.CharField(blank=True, max_length=200, null=True, verbose_name='Nome Fantasia')),
                ('tipo_pessoa', models.CharField(choices=[('FISICA', 'Pessoa Física'), ('JURIDICA', 'Pessoa Jurídica')], default='JURIDICA', max_length=10, verbose_name='Tipo de Pessoa')),
                ('cpf_cnpj', models.CharField(max_length=18, unique=True, verbose_name='CPF/CNPJ')),
                ('inscricao_estadual', models.CharField(blank=True, max_length=20, null=True, verbose_name='Inscrição Estadual')),
                ('tipo_cliente', models.CharField(choices=[('FRIGORIFICO', 'Frigorífico'), ('FEIRANTE', 'Feirante'), ('ATACADISTA', 'Atacadista'), ('VAREJISTA', 'Varejista'), ('CONSUMIDOR_FINAL', 'Consumidor Final'), ('OUTROS', 'Outros')], default='OUTROS', max_length=20, verbose_name='Tipo de Cliente')),
                ('telefone', models.CharField(blank=True, max_length=20, null=True, verbose_name='Telefone')),
                ('celular', models.CharField(blank=True, max_length=20, null=True, verbose_name='Celular')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='E-mail')),
                ('website', models.URLField(blank=True, null=True, verbose_name='Website')),
                ('endereco', models.CharField(blank=True, max_length=255, null=True, verbose_name='Logradouro')),
                ('numero', models.CharField(blank=True, max_length=20, null=True, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, null=True, verbose_name='Complemento')),
                ('bairro', models.CharField(blank=True, max_length=100, null=True, verbose_name='Bairro')),
                ('cidade', models.CharField(blank=True, max_length=100, null=True, verbose_name='Cidade')),
                ('estado', models.CharField(blank=True, max_length=2, null=True, verbose_name='Estado (UF)')),
                ('cep', models.CharField(blank=True, max_length=10, null=True, verbose_name='CEP')),
                ('banco', models.CharField(blank=True, max_length=100, null=True, verbose_name='Banco')),
                ('agencia', models.CharField(blank=True, max_length=10, null=True, verbose_name='Agência')),
                ('conta', models.CharField(blank=True, max_length=20, null=True, verbose_name='Conta')),
                ('tipo_conta', models.CharField(blank=True, choices=[('CORRENTE', 'Corrente'), ('POUPANCA', 'Poupança')], max_length=10, null=True, verbose_name='Tipo de Conta')),
                ('pix', models.CharField(blank=True, max_length=100, null=True, verbose_name='Chave PIX')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('avaliacao', models.DecimalField(blank=True, decimal_places=2, help_text='Avaliação do cliente', max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Avaliação (0-5)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('limite_credito', models.DecimalField(blank=True, decimal_places=2, max_digits=14, null=True, verbose_name='Limite de Crédito (R$)')),
            ],
            options={
                'verbose_name': 'Cliente',
                'verbose_name_plural': 'Clientes',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='FornecedorCadastro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('nome', models.CharField(max_length=200, verbose_name='Nome/Razão Social')),
                ('nome_fantasia', models.CharField(blank=True, max_length=200, null=True, verbose_name='Nome Fantasia')),
                ('cpf_cnpj', models.CharField(max_length=18, unique=True, verbose_name='CPF/CNPJ')),
                ('tipo', models.CharField(choices=[('RACAO', 'Ração/Insumos'), ('MEDICAMENTO', 'Medicamentos/Veterinário'), ('EQUIPAMENTO', 'Equipamentos'), ('COMBUSTIVEL', 'Combustível'), ('SERVICO', 'Serviços'), ('CONSTRUCAO', 'Construção'), ('TRANSPORTE', 'Transporte'), ('OUTROS', 'Outros')], max_length=20, verbose_name='Tipo de Fornecedor')),
                ('inscricao_estadual', models.CharField(blank=True, max_length=20, null=True, verbose_name='Inscrição Estadual')),
                ('telefone', models.CharField(blank=True, max_length=20, null=True, verbose_name='Telefone')),
                ('celular', models.CharField(blank=True, max_length=20, null=True, verbose_name='Celular')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='E-mail')),
                ('website', models.URLField(blank=True, null=True, verbose_name='Website')),
                ('endereco', models.CharField(blank=True, max_length=255, null=True, verbose_name='Logradouro')),
                ('numero', models.CharField(blank=True, max_length=20, null=True, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, null=True, verbose_name='Complemento')),
                ('bairro', models.CharField(blank=True, max_length=100, null=True, verbose_name='Bairro')),
                ('cidade', models.CharField(blank=True, max_length=100, null=True, verbose_name='Cidade')),
                ('estado', models.CharField(blank=True, max_length=2, null=True, verbose_name='Estado (UF)')),
                ('cep', models.CharField(blank=True, max_length=10, null=True, verbose_name='CEP')),
                ('banco', models.CharField(blank=True, max_length=100, null=True, verbose_name='Banco')),
                ('agencia', models.CharField(blank=True, max_length=10, null=True, verbose_name='Agência')),
                ('conta', models.CharField(blank=True, max_length=20, null=True, verbose_name='Conta')),
                ('tipo_conta', models.CharField(blank=True, choices=[('CORRENTE', 'Corrente'), ('POUPANCA', 'Poupança')], max_length=10, null=True, verbose_name='Tipo de Conta')),
                ('pix', models.CharField(blank=True, max_length=100, null=True, verbose_name='Chave PIX')),
                ('prazo_pagamento_dias', models.PositiveIntegerField(default=30, verbose_name='Prazo de Pagamento Padrão (dias)')),
                ('desconto_padrao', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Desconto Padrão (%)')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('avaliacao', models.DecimalField(blank=True, decimal_places=2, help_text='Avaliação do fornecedor', max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Avaliação (0-5)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('centro_custo_padrao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fornecedores_cadastro', to='gestao_rural.centrocusto', verbose_name='Centro de Custo Padrão')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fornecedores_criados', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('plano_conta_padrao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='fornecedores_cadastro', to='gestao_rural.planoconta', verbose_name='Plano de Contas Padrão')),
                ('propriedade', models.ForeignKey(blank=True, help_text='Quando vazio, fornecedor fica disponível para todas as propriedades', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='fornecedores_master', to='gestao_rural.propriedade', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Fornecedor Cadastro',
                'verbose_name_plural': 'Fornecedores Cadastro',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='Frigorifico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('razao_social', models.CharField(max_length=200, verbose_name='Razão Social')),
                ('nome_fantasia', models.CharField(blank=True, max_length=200, null=True, verbose_name='Nome Fantasia')),
                ('cnpj', models.CharField(max_length=18, unique=True, verbose_name='CNPJ')),
                ('inscricao_estadual', models.CharField(blank=True, max_length=20, null=True, verbose_name='Inscrição Estadual')),
                ('tipo_frigorifico', models.CharField(choices=[('ABATE', 'Abate'), ('ABATE_INDUSTRIALIZACAO', 'Abate e Industrialização'), ('INDUSTRIALIZACAO', 'Industrialização'), ('DISTRIBUIDOR', 'Distribuidor')], default='ABATE', max_length=30, verbose_name='Tipo de Frigorífico')),
                ('telefone', models.CharField(blank=True, max_length=20, null=True, verbose_name='Telefone')),
                ('celular', models.CharField(blank=True, max_length=20, null=True, verbose_name='Celular')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='E-mail')),
                ('website', models.URLField(blank=True, null=True, verbose_name='Website')),
                ('endereco', models.CharField(blank=True, max_length=255, null=True, verbose_name='Logradouro')),
                ('numero', models.CharField(blank=True, max_length=20, null=True, verbose_name='Número')),
                ('complemento', models.CharField(blank=True, max_length=100, null=True, verbose_name='Complemento')),
                ('bairro', models.CharField(blank=True, max_length=100, null=True, verbose_name='Bairro')),
                ('cidade', models.CharField(blank=True, max_length=100, null=True, verbose_name='Cidade')),
                ('estado', models.CharField(blank=True, max_length=2, null=True, verbose_name='Estado (UF)')),
                ('cep', models.CharField(blank=True, max_length=10, null=True, verbose_name='CEP')),
                ('banco', models.CharField(blank=True, max_length=100, null=True, verbose_name='Banco')),
                ('agencia', models.CharField(blank=True, max_length=10, null=True, verbose_name='Agência')),
                ('conta', models.CharField(blank=True, max_length=20, null=True, verbose_name='Conta')),
                ('tipo_conta', models.CharField(blank=True, choices=[('CORRENTE', 'Corrente'), ('POUPANCA', 'Poupança')], max_length=10, null=True, verbose_name='Tipo de Conta')),
                ('pix', models.CharField(blank=True, max_length=100, null=True, verbose_name='Chave PIX')),
                ('capacidade_abate_dia', models.PositiveIntegerField(blank=True, null=True, verbose_name='Capacidade de Abate (cabeças/dia)')),
                ('servico_inspecao', models.CharField(blank=True, choices=[('SIF', 'SIF - Serviço de Inspeção Federal'), ('SIM', 'SIM - Serviço de Inspeção Municipal'), ('SIE', 'SIE - Serviço de Inspeção Estadual')], max_length=50, null=True, verbose_name='Serviço de Inspeção')),
                ('numero_inspecao', models.CharField(blank=True, max_length=50, null=True, verbose_name='Número do Certificado de Inspeção')),
                ('prazo_pagamento_dias', models.PositiveIntegerField(default=30, verbose_name='Prazo de Pagamento (dias)')),
                ('desconto_padrao', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Desconto Padrão (%)')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('avaliacao', models.DecimalField(blank=True, decimal_places=2, help_text='Avaliação do frigorífico', max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Avaliação (0-5)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='frigorificos_criados', to=settings.AUTH_USER_MODEL, verbose_name='Criado por')),
                ('propriedade', models.ForeignKey(blank=True, help_text='Quando vazio, frigorífico fica disponível para todas as propriedades', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='frigorificos', to='gestao_rural.propriedade', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Frigorífico',
                'verbose_name_plural': 'Frigoríficos',
                'ordering': ['razao_social'],
            },
        ),
        migrations.CreateModel(
            name='UnidadeMedida',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('codigo', models.CharField(help_text='Ex: KG, L, UN, HA', max_length=10, unique=True, verbose_name='Código')),
                ('nome', models.CharField(help_text='Ex: Quilograma, Litro, Unidade', max_length=100, verbose_name='Nome Completo')),
                ('tipo', models.CharField(choices=[('PESO', 'Peso'), ('VOLUME', 'Volume'), ('COMPRIMENTO', 'Comprimento'), ('AREA', 'Área'), ('UNIDADE', 'Unidade'), ('TEMPO', 'Tempo'), ('ENERGIA', 'Energia')], max_length=20, verbose_name='Tipo')),
                ('simbolo', models.CharField(help_text='Ex: kg, L, un', max_length=10, verbose_name='Símbolo')),
                ('descricao', models.TextField(blank=True, null=True, verbose_name='Descrição')),
                ('fator_conversao_padrao', models.DecimalField(decimal_places=6, default=Decimal('1.000000'), help_text='Fator para conversão para unidade base do tipo', max_digits=15, verbose_name='Fator de Conversão Padrão')),
                ('unidade_base', models.BooleanField(default=False, help_text='Marca se esta é a unidade base do tipo', verbose_name='É Unidade Base?')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('ordem_exibicao', models.PositiveIntegerField(default=0, verbose_name='Ordem de Exibição')),
            ],
            options={
                'verbose_name': 'Unidade de Medida',
                'verbose_name_plural': 'Unidades de Medida',
                'ordering': ['tipo', 'ordem_exibicao', 'nome'],
                'indexes': [models.Index(fields=['codigo'], name='gestao_rura_codigo_2829e0_idx'), models.Index(fields=['tipo', 'ativo'], name='gestao_rura_tipo_25092b_idx')],
            },
        ),
        migrations.CreateModel(
            name='RelacionamentoCadastros',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('tipo_relacionamento', models.CharField(choices=[('FORNECEDOR_CLIENTE', 'Fornecedor também é Cliente'), ('CLIENTE_FRIGORIFICO', 'Cliente é Frigorífico'), ('FORNECEDOR_FRIGORIFICO', 'Fornecedor é Frigorífico'), ('GRUPO_EMPRESARIAL', 'Grupo Empresarial'), ('OUTROS', 'Outros')], max_length=30, verbose_name='Tipo de Relacionamento')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('cliente', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='relacionamentos_cliente', to='gestao_rural.cliente', verbose_name='Cliente')),
                ('fornecedor', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='relacionamentos_fornecedor', to='gestao_rural.fornecedorcadastro', verbose_name='Fornecedor')),
                ('frigorifico', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='relacionamentos_frigorifico', to='gestao_rural.frigorifico', verbose_name='Frigorífico')),
            ],
            options={
                'verbose_name': 'Relacionamento entre Cadastros',
                'verbose_name_plural': 'Relacionamentos entre Cadastros',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.AddField(
            model_name='cliente',
            name='frigorifico_vinculado',
            field=models.ForeignKey(blank=True, help_text='Se este cliente é um frigorífico ou está vinculado a um', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clientes_vinculados', to='gestao_rural.frigorifico', verbose_name='Frigorífico Vinculado'),
        ),
        migrations.AddField(
            model_name='cliente',
            name='propriedade',
            field=models.ForeignKey(blank=True, help_text='Quando vazio, cliente fica disponível para todas as propriedades', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='clientes', to='gestao_rural.propriedade', verbose_name='Propriedade'),
        ),
        migrations.AddIndex(
            model_name='frigorifico',
            index=models.Index(fields=['cnpj'], name='gestao_rura_cnpj_2d9697_idx'),
        ),
        migrations.AddIndex(
            model_name='frigorifico',
            index=models.Index(fields=['tipo_frigorifico', 'ativo'], name='gestao_rura_tipo_fr_ae1878_idx'),
        ),
        migrations.AddIndex(
            model_name='frigorifico',
            index=models.Index(fields=['propriedade', 'ativo'], name='gestao_rura_proprie_7546c4_idx'),
        ),
        migrations.AddIndex(
            model_name='fornecedorcadastro',
            index=models.Index(fields=['cpf_cnpj'], name='gestao_rura_cpf_cnp_1a3540_idx'),
        ),
        migrations.AddIndex(
            model_name='fornecedorcadastro',
            index=models.Index(fields=['tipo', 'ativo'], name='gestao_rura_tipo_03510b_idx'),
        ),
        migrations.AddIndex(
            model_name='fornecedorcadastro',
            index=models.Index(fields=['propriedade', 'ativo'], name='gestao_rura_proprie_09b5f3_idx'),
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['cpf_cnpj'], name='gestao_rura_cpf_cnp_c5d627_idx'),
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['tipo_cliente', 'ativo'], name='gestao_rura_tipo_cl_e2e4bb_idx'),
        ),
        migrations.AddIndex(
            model_name='cliente',
            index=models.Index(fields=['propriedade', 'ativo'], name='gestao_rura_proprie_a9df82_idx'),
        ),
    ]
