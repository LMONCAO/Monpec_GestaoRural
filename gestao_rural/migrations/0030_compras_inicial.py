# Generated by Django 4.2.7 on 2025-11-13 03:06

from decimal import Decimal
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('gestao_rural', '0029_loteiatf_categoria_animais_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='AprovacaoRequisicaoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('etapa', models.CharField(choices=[('GERENCIA', 'Gerência da Fazenda'), ('COMPRADOR', 'Comprador'), ('RESPONSAVEL_COMPRAS', 'Responsável de Compras'), ('RECEBIMENTO', 'Recebimento'), ('FINANCEIRO', 'Financeiro')], max_length=30, verbose_name='Etapa')),
                ('decisao', models.CharField(choices=[('PENDENTE', 'Pendente'), ('APROVADO', 'Aprovado'), ('REPROVADO', 'Reprovado'), ('DEVOLVIDO', 'Devolvido para Ajustes')], default='PENDENTE', max_length=20, verbose_name='Decisão')),
                ('comentario', models.TextField(blank=True, null=True, verbose_name='Comentário')),
                ('data_decisao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Decisão')),
            ],
            options={
                'verbose_name': 'Aprovação de Requisição',
                'verbose_name_plural': 'Aprovações de Requisição',
                'ordering': ['-data_decisao'],
            },
        ),
        migrations.CreateModel(
            name='AtividadePlanejada',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_atividade', models.CharField(max_length=120, verbose_name='Tipo de atividade')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição / Observações')),
                ('data_inicio_prevista', models.DateField(verbose_name='Data de início prevista')),
                ('data_fim_prevista', models.DateField(blank=True, null=True, verbose_name='Data de término prevista')),
                ('responsavel', models.CharField(blank=True, max_length=120, verbose_name='Responsável')),
                ('custo_previsto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Custo previsto (R$)')),
                ('indicador_alvo', models.CharField(blank=True, max_length=120, verbose_name='Indicador alvo (ex: taxa prenhez)')),
                ('status', models.CharField(choices=[('AGENDADA', 'Agendada'), ('EM_EXECUCAO', 'Em execução'), ('CONCLUIDA', 'Concluída'), ('CANCELADA', 'Cancelada'), ('ATRASADA', 'Atrasada')], default='AGENDADA', max_length=15, verbose_name='Status da atividade')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestao_rural.categoriaanimal', verbose_name='Categoria envolvida')),
            ],
            options={
                'verbose_name': 'Atividade Planejada',
                'verbose_name_plural': 'Atividades Planejadas',
                'ordering': ['data_inicio_prevista', 'tipo_atividade'],
            },
        ),
        migrations.CreateModel(
            name='CenarioPlanejamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome do cenário')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('is_baseline', models.BooleanField(default=False, verbose_name='É cenário base?')),
                ('ajuste_preco_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de preço (%)')),
                ('ajuste_custo_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de custo (%)')),
                ('ajuste_producao_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de produção (%)')),
                ('ajuste_taxas_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de taxas (%)')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Cenário de Planejamento',
                'verbose_name_plural': 'Cenários de Planejamento',
                'ordering': ['-is_baseline', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='CentroCusto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome')),
                ('codigo', models.CharField(help_text='Código curto para relatórios e integrações.', max_length=30, verbose_name='Código')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='centros_custo', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Centro de Custo',
                'verbose_name_plural': 'Centros de Custo',
                'ordering': ['propriedade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='ContaFinanceira',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome')),
                ('instituicao', models.CharField(blank=True, max_length=120, verbose_name='Instituição')),
                ('tipo', models.CharField(choices=[('CAIXA', 'Caixa'), ('CORRENTE', 'Conta Corrente'), ('POUPANCA', 'Poupança'), ('INVESTIMENTO', 'Investimento'), ('DIGITAL', 'Conta Digital')], default='CORRENTE', max_length=15, verbose_name='Tipo')),
                ('numero_agencia', models.CharField(blank=True, max_length=20, verbose_name='Agência')),
                ('numero_conta', models.CharField(blank=True, max_length=30, verbose_name='Conta')),
                ('saldo_inicial', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saldo Inicial')),
                ('data_saldo_inicial', models.DateField(default=django.utils.timezone.now, verbose_name='Data do Saldo Inicial')),
                ('moeda', models.CharField(default='BRL', max_length=10, verbose_name='Moeda')),
                ('ativa', models.BooleanField(default=True, verbose_name='Ativa')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contas_financeiras', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Conta Financeira',
                'verbose_name_plural': 'Contas Financeiras',
                'ordering': ['propriedade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='CotacaoFornecedor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('EM_ANDAMENTO', 'Em Andamento'), ('RECEBIDA', 'Recebida'), ('SELECIONADA', 'Selecionada'), ('NAO_SELECIONADA', 'Não Selecionada'), ('CANCELADA', 'Cancelada')], default='EM_ANDAMENTO', max_length=20, verbose_name='Status')),
                ('prazo_entrega_estimado', models.CharField(blank=True, max_length=120, null=True, verbose_name='Prazo de Entrega Estimado')),
                ('validade_proposta', models.DateField(blank=True, null=True, verbose_name='Validade da Proposta')),
                ('condicoes_pagamento', models.CharField(blank=True, max_length=200, null=True, verbose_name='Condições de Pagamento')),
                ('valor_frete', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor do Frete (R$)')),
                ('valor_total', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Total Cotado (R$)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('anexo_proposta', models.FileField(blank=True, null=True, upload_to='compras/cotacoes/', verbose_name='Proposta Anexada')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data de Registro')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
                ('comprador', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cotacoes_registradas', to=settings.AUTH_USER_MODEL, verbose_name='Comprador Responsável')),
                ('fornecedor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cotacoes', to='gestao_rural.fornecedor', verbose_name='Fornecedor')),
            ],
            options={
                'verbose_name': 'Cotação de Fornecedor',
                'verbose_name_plural': 'Cotações de Fornecedores',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='EventoFluxoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('etapa', models.CharField(choices=[('CRIACAO', 'Criação'), ('ENVIO', 'Envio para Aprovação'), ('APROVACAO_GERENCIA', 'Aprovação Gerência'), ('COTACAO', 'Cotação'), ('APROVACAO_COMPRAS', 'Aprovação Compras'), ('EMISSAO_OC', 'Emissão de OC'), ('RECEBIMENTO', 'Recebimento'), ('FINANCEIRO', 'Financeiro'), ('AUTORIZACAO_SETOR', 'Autorização do Setor'), ('CANCELAMENTO', 'Cancelamento'), ('OUTROS', 'Outros')], default='OUTROS', max_length=40, verbose_name='Etapa')),
                ('status_anterior', models.CharField(blank=True, max_length=40, null=True, verbose_name='Status Anterior')),
                ('status_novo', models.CharField(blank=True, max_length=40, null=True, verbose_name='Status Novo')),
                ('comentario', models.TextField(blank=True, null=True, verbose_name='Comentário')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data do Evento')),
            ],
            options={
                'verbose_name': 'Evento do Fluxo de Compras',
                'verbose_name_plural': 'Eventos do Fluxo de Compras',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='FechamentoMensal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('ano', models.PositiveIntegerField(verbose_name='Ano de Referência')),
                ('mes', models.PositiveIntegerField(verbose_name='Mês de Referência')),
                ('saldo_inicial', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saldo Inicial')),
                ('entradas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Entradas')),
                ('saidas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saídas')),
                ('saldo_final', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saldo Final')),
                ('conta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fechamentos', to='gestao_rural.contafinanceira')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fechamentos_financeiros', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Fechamento Mensal',
                'verbose_name_plural': 'Fechamentos Mensais',
                'ordering': ['-ano', '-mes', 'conta__nome'],
            },
        ),
        migrations.CreateModel(
            name='IndicadorPlanejado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome do indicador')),
                ('unidade', models.CharField(default='%', max_length=30, verbose_name='Unidade')),
                ('valor_meta', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Meta planejada')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('prioridade', models.PositiveSmallIntegerField(default=3, verbose_name='Prioridade (1-5)')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Indicador Planejado',
                'verbose_name_plural': 'Indicadores Planejados',
                'ordering': ['prioridade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='ItemCotacaoFornecedor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição')),
                ('unidade_medida', models.CharField(default='UN', max_length=10, verbose_name='Unidade')),
                ('quantidade', models.DecimalField(decimal_places=3, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.001'))], verbose_name='Quantidade')),
                ('valor_unitario', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Unitário (R$)')),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=14, verbose_name='Valor Total (R$)')),
                ('cotacao', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='gestao_rural.cotacaofornecedor', verbose_name='Cotação')),
            ],
            options={
                'verbose_name': 'Item de Cotação',
                'verbose_name_plural': 'Itens de Cotação',
                'ordering': ['cotacao', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='ItemRecebimentoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantidade_recebida', models.DecimalField(decimal_places=3, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.000'))], verbose_name='Quantidade Recebida')),
                ('divergencia', models.BooleanField(default=False, verbose_name='Possui Divergência?')),
                ('justificativa_divergencia', models.TextField(blank=True, null=True, verbose_name='Justificativa da Divergência')),
                ('item_ordem', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recebimentos', to='gestao_rural.itemordemcompra', verbose_name='Item da Ordem')),
            ],
            options={
                'verbose_name': 'Item Recebido',
                'verbose_name_plural': 'Itens Recebidos',
                'ordering': ['recebimento', 'item_ordem'],
            },
        ),
        migrations.CreateModel(
            name='ItemRequisicaoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição do Item')),
                ('unidade_medida', models.CharField(choices=[('UN', 'Unidade'), ('KG', 'Quilograma'), ('L', 'Litro'), ('SC', 'Saca'), ('CX', 'Caixa'), ('MT', 'Metro'), ('OUTROS', 'Outros')], default='UN', max_length=10, verbose_name='Unidade de Medida')),
                ('quantidade', models.DecimalField(decimal_places=3, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.001'))], verbose_name='Quantidade')),
                ('valor_estimado_unitario', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Estimado Unitário (R$)')),
                ('fornecedor_preferencial', models.CharField(blank=True, max_length=200, null=True, verbose_name='Fornecedor Preferencial')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações do Item')),
            ],
            options={
                'verbose_name': 'Item de Requisição de Compra',
                'verbose_name_plural': 'Itens de Requisição de Compra',
                'ordering': ['requisicao', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='MetaComercialPlanejada',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantidade_animais', models.PositiveIntegerField(default=0, verbose_name='Quantidade de animais')),
                ('arrobas_totais', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Arrobas totais')),
                ('preco_medio_esperado', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10, verbose_name='Preço médio esperado (R$/@ ou cabeça)')),
                ('canal_venda', models.CharField(blank=True, max_length=120, verbose_name='Canal de venda')),
                ('percentual_impostos', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Impostos e taxas (%)')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestao_rural.categoriaanimal', verbose_name='Categoria')),
            ],
            options={
                'verbose_name': 'Meta Comercial Planejada',
                'verbose_name_plural': 'Metas Comerciais Planejadas',
                'ordering': ['categoria__nome'],
            },
        ),
        migrations.CreateModel(
            name='MetaFinanceiraPlanejada',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.CharField(max_length=180, verbose_name='Descrição')),
                ('tipo_custo', models.CharField(choices=[('FIXO', 'Custo fixo'), ('VARIAVEL', 'Custo variável'), ('INVESTIMENTO', 'Investimento'), ('TAXA', 'Taxas e encargos'), ('OUTROS', 'Outros')], default='VARIAVEL', max_length=15, verbose_name='Tipo de custo')),
                ('valor_anual_previsto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Valor anual previsto (R$)')),
                ('indice_correcao', models.CharField(blank=True, max_length=60, verbose_name='Índice de correção')),
                ('percentual_correcao', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Percentual de correção (%)')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Meta Financeira Planejada',
                'verbose_name_plural': 'Metas Financeiras Planejadas',
                'ordering': ['tipo_custo', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='MovimentoFinanceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('tipo', models.CharField(choices=[('ENTRADA', 'Entrada'), ('SAIDA', 'Saída'), ('TRANSFERENCIA', 'Transferência'), ('AJUSTE', 'Ajuste Manual')], max_length=15, verbose_name='Tipo de Movimento')),
                ('origem', models.CharField(choices=[('LIQUIDACAO', 'Liquidação de Parcela'), ('TRANSFERENCIA', 'Transferência entre Contas'), ('SALDO_INICIAL', 'Saldo Inicial'), ('AJUSTE', 'Ajuste Manual')], max_length=20, verbose_name='Origem do Movimento')),
                ('data_movimento', models.DateField(default=django.utils.timezone.now, verbose_name='Data do Movimento')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição')),
                ('valor_bruto', models.DecimalField(decimal_places=2, max_digits=14, verbose_name='Valor')),
                ('valor_taxas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Taxas/Descontos')),
                ('valor_liquido', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Valor Líquido')),
                ('conciliado', models.BooleanField(default=False, verbose_name='Conciliado')),
                ('conciliado_em', models.DateTimeField(blank=True, null=True, verbose_name='Conciliado em')),
                ('conta', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='movimentos', to='gestao_rural.contafinanceira')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='movimentos_financeiros_criados', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Movimento Financeiro',
                'verbose_name_plural': 'Movimentos Financeiros',
                'ordering': ['-data_movimento', '-id'],
            },
        ),
        migrations.CreateModel(
            name='ParcelaTitulo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('numero', models.PositiveIntegerField(default=1, help_text='Número sequencial da parcela.', verbose_name='Número')),
                ('vencimento', models.DateField(verbose_name='Data de Vencimento')),
                ('valor_original', models.DecimalField(decimal_places=2, max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Original')),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Descontos')),
                ('valor_acrescimo', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Acréscimos')),
                ('valor_liquidado', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Valor Liquidado')),
                ('status', models.CharField(choices=[('ABERTA', 'Em aberto'), ('AGENDADA', 'Agendada'), ('LIQUIDADA', 'Liquidada'), ('CANCELADA', 'Cancelada')], default='ABERTA', max_length=12, verbose_name='Status')),
                ('data_liquidacao', models.DateField(blank=True, null=True, verbose_name='Data de Liquidação')),
                ('conta_liquidacao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='parcelas_liquidadas', to='gestao_rural.contafinanceira')),
            ],
            options={
                'verbose_name': 'Parcela de Título',
                'verbose_name_plural': 'Parcelas de Título',
                'ordering': ['titulo', 'numero'],
            },
        ),
        migrations.CreateModel(
            name='PlanejamentoAnual',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ano', models.PositiveIntegerField(verbose_name='Ano do Planejamento')),
                ('descricao', models.CharField(blank=True, max_length=255, verbose_name='Descrição resumida')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('EM_ANDAMENTO', 'Em andamento'), ('APROVADO', 'Aprovado'), ('CONCLUIDO', 'Concluído'), ('ARQUIVADO', 'Arquivado')], default='RASCUNHO', max_length=15, verbose_name='Status')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de criação')),
                ('data_atualizacao', models.DateTimeField(auto_now=True, verbose_name='Última atualização')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='planejamentos_pecuarios', to='gestao_rural.propriedade', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Planejamento Anual Pecuário',
                'verbose_name_plural': 'Planejamentos Anuais Pecuários',
                'ordering': ['-ano', 'propriedade'],
            },
        ),
        migrations.CreateModel(
            name='PlanoConta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('codigo', models.CharField(help_text='Código estruturado, ex: 1.1.01', max_length=20, verbose_name='Código')),
                ('nome', models.CharField(max_length=160, verbose_name='Nome')),
                ('tipo', models.CharField(choices=[('RECEITA', 'Receita'), ('DESPESA', 'Despesa'), ('TRANSFERENCIA', 'Transferência'), ('CAPITAL', 'Captação / Investimento')], max_length=15, verbose_name='Tipo')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('ordem', models.PositiveIntegerField(default=0, help_text='Utilizado para ordenar exibições personalizadas.', verbose_name='Ordem')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('conta_pai', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='contas_filhas', to='gestao_rural.planoconta')),
                ('propriedade', models.ForeignKey(blank=True, help_text='Quando vazio, o plano é compartilhado entre propriedades.', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='planos_conta', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Plano de Conta',
                'verbose_name_plural': 'Plano de Contas',
                'ordering': ['propriedade', 'codigo'],
            },
        ),
        migrations.CreateModel(
            name='RecebimentoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente'), ('RECEBIDO', 'Recebido'), ('DIVERGENCIA', 'Divergência'), ('CANCELADO', 'Cancelado')], default='PENDENTE', max_length=20, verbose_name='Status')),
                ('data_prevista', models.DateField(blank=True, null=True, verbose_name='Data Prevista')),
                ('data_recebimento', models.DateField(blank=True, null=True, verbose_name='Data de Recebimento')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('comprovante_assinado', models.FileField(blank=True, null=True, upload_to='compras/recebimentos/', verbose_name='Comprovante Assinado')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data de Registro')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
            ],
            options={
                'verbose_name': 'Recebimento de Compra',
                'verbose_name_plural': 'Recebimentos de Compra',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='RequisicaoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('ENVIADA', 'Aguardando Aprovação do Gerente'), ('REPROVADA_GERENCIA', 'Reprovada pela Gerência'), ('APROVADA_GERENCIA', 'Aprovada pela Gerência'), ('EM_COTACAO', 'Em Cotação'), ('AGUARDANDO_APROVACAO_COMPRAS', 'Aguardando Aprovação de Compras'), ('REPROVADA_COMPRAS', 'Reprovada por Compras'), ('APROVADA_COMPRAS', 'Aprovada por Compras'), ('ORDEM_EMITIDA', 'Ordem de Compra Emitida'), ('AGUARDANDO_RECEBIMENTO', 'Aguardando Recebimento'), ('CONCLUIDA', 'Concluída'), ('CANCELADA', 'Cancelada')], default='RASCUNHO', max_length=40, verbose_name='Status')),
                ('prioridade', models.CharField(choices=[('BAIXA', 'Baixa'), ('MEDIA', 'Média'), ('ALTA', 'Alta'), ('URGENTE', 'Urgente')], default='MEDIA', max_length=10, verbose_name='Prioridade')),
                ('titulo', models.CharField(max_length=200, verbose_name='Título')),
                ('justificativa', models.TextField(verbose_name='Justificativa')),
                ('data_necessidade', models.DateField(blank=True, null=True, verbose_name='Data de Necessidade')),
                ('centro_custo_descricao', models.CharField(blank=True, max_length=120, null=True, verbose_name='Centro de Custo (Manual)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('motivo_cancelamento', models.TextField(blank=True, null=True, verbose_name='Motivo do Cancelamento')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
                ('enviado_em', models.DateTimeField(blank=True, null=True, verbose_name='Data de Envio')),
                ('concluido_em', models.DateTimeField(blank=True, null=True, verbose_name='Data de Conclusão')),
                ('centro_custo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_compra', to='gestao_rural.centrocusto', verbose_name='Centro de Custo')),
                ('equipamento', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_compra', to='gestao_rural.equipamento', verbose_name='Máquina/Equipamento')),
            ],
            options={
                'verbose_name': 'Requisição de Compra',
                'verbose_name_plural': 'Requisições de Compra',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='SetorPropriedade',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome do Setor')),
                ('codigo', models.CharField(blank=True, help_text='Identificador curto usado em relatórios e integrações.', max_length=30, null=True, verbose_name='Código Interno')),
                ('descricao', models.TextField(blank=True, null=True, verbose_name='Descrição / Escopo')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='setores_propriedade', to='gestao_rural.propriedade', verbose_name='Propriedade')),
                ('responsavel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='setores_responsaveis', to=settings.AUTH_USER_MODEL, verbose_name='Responsável')),
            ],
            options={
                'verbose_name': 'Setor da Propriedade',
                'verbose_name_plural': 'Setores da Propriedade',
                'ordering': ['propriedade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='TituloFinanceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('tipo', models.CharField(choices=[('PAGAR', 'Conta a Pagar'), ('RECEBER', 'Conta a Receber')], max_length=10, verbose_name='Tipo do Título')),
                ('numero', models.CharField(blank=True, help_text='Identificador interno ou número de documento.', max_length=40, verbose_name='Número')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição')),
                ('data_emissao', models.DateField(default=django.utils.timezone.now, verbose_name='Data de Emissão')),
                ('data_competencia', models.DateField(blank=True, help_text='Utilizada para apuração contábil.', null=True, verbose_name='Data de Competência')),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Total')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('ABERTO', 'Em aberto'), ('PARCIAL', 'Pago Parcialmente'), ('LIQUIDADO', 'Liquidado'), ('CANCELADO', 'Cancelado')], default='RASCUNHO', max_length=12, verbose_name='Status')),
                ('pessoa', models.CharField(blank=True, max_length=160, verbose_name='Fornecedor/Cliente')),
                ('documento_referencia', models.CharField(blank=True, max_length=60, verbose_name='Documento de Referência')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('centro_custo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='titulos', to='gestao_rural.centrocusto')),
                ('conta_preferencial', models.ForeignKey(blank=True, help_text='Conta sugerida para liquidação.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='titulos_preferenciais', to='gestao_rural.contafinanceira')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='titulos_financeiros_criados', to=settings.AUTH_USER_MODEL)),
                ('plano_conta', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='titulos', to='gestao_rural.planoconta')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='titulos_financeiros', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Título Financeiro',
                'verbose_name_plural': 'Títulos Financeiros',
                'ordering': ['-data_emissao', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='TransferenciaFinanceira',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('data_transferencia', models.DateField(default=django.utils.timezone.now, verbose_name='Data da Transferência')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Transferido')),
                ('descricao', models.CharField(blank=True, max_length=160, verbose_name='Descrição')),
                ('conta_destino', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias_destino', to='gestao_rural.contafinanceira')),
                ('conta_origem', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias_origem', to='gestao_rural.contafinanceira')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transferencias_financeiras_criadas', to=settings.AUTH_USER_MODEL)),
                ('movimento_destino', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transferencia_destino', to='gestao_rural.movimentofinanceiro')),
                ('movimento_origem', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transferencia_origem', to='gestao_rural.movimentofinanceiro')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferencias_financeiras', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Transferência Financeira',
                'verbose_name_plural': 'Transferências Financeiras',
                'ordering': ['-data_transferencia', '-id'],
            },
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_data',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Data Autorização Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_observacoes',
            field=models.TextField(blank=True, null=True, verbose_name='Observações da Autorização do Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_status',
            field=models.CharField(choices=[('PENDENTE', 'Pendente'), ('AUTORIZADA', 'Autorizada'), ('NEGADA', 'Negada')], default='PENDENTE', max_length=15, verbose_name='Status Autorização Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra_autorizadas_setor', to=settings.AUTH_USER_MODEL, verbose_name='Responsável Autorização Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='centro_custo_descricao',
            field=models.CharField(blank=True, max_length=120, null=True, verbose_name='Centro de Custo (Manual)'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='ordem_compra',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_origem', to='gestao_rural.ordemcompra', verbose_name='Ordem de Compra Gerada'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='plano_conta',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_compra', to='gestao_rural.planoconta', verbose_name='Plano de Contas'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='propriedade',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='requisicoes_compra', to='gestao_rural.propriedade', verbose_name='Propriedade'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='setor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes', to='gestao_rural.setorpropriedade', verbose_name='Setor Solicitante'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='solicitante',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='requisicoes_compra_criadas', to=settings.AUTH_USER_MODEL, verbose_name='Solicitante'),
        ),
        migrations.AddField(
            model_name='recebimentocompra',
            name='ordem_compra',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recebimentos', to='gestao_rural.ordemcompra', verbose_name='Ordem de Compra'),
        ),
        migrations.AddField(
            model_name='recebimentocompra',
            name='responsavel',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recebimentos_registrados', to=settings.AUTH_USER_MODEL, verbose_name='Responsável Pelo Recebimento'),
        ),
        migrations.AddField(
            model_name='parcelatitulo',
            name='titulo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas', to='gestao_rural.titulofinanceiro'),
        ),
        migrations.AddField(
            model_name='movimentofinanceiro',
            name='parcela',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='movimentos', to='gestao_rural.parcelatitulo'),
        ),
        migrations.AddField(
            model_name='movimentofinanceiro',
            name='propriedade',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimentos_financeiros', to='gestao_rural.propriedade'),
        ),
        migrations.AddField(
            model_name='metafinanceiraplanejada',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metas_financeiras', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='metacomercialplanejada',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metas_comerciais', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='itemrequisicaocompra',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='itemrecebimentocompra',
            name='recebimento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='gestao_rural.recebimentocompra', verbose_name='Recebimento'),
        ),
        migrations.AddField(
            model_name='itemcotacaofornecedor',
            name='item_requisicao',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='itens_cotados', to='gestao_rural.itemrequisicaocompra', verbose_name='Item da Requisição'),
        ),
        migrations.AddField(
            model_name='indicadorplanejado',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='indicadores_planejados', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='eventofluxocompra',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='eventos_fluxo', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='eventofluxocompra',
            name='usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='eventos_fluxo_compra', to=settings.AUTH_USER_MODEL, verbose_name='Usuário'),
        ),
        migrations.AddField(
            model_name='cotacaofornecedor',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cotacoes', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='cenarioplanejamento',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cenarios', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='atividadeplanejada',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='atividades', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='aprovacaorequisicaocompra',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='aprovacoes', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='aprovacaorequisicaocompra',
            name='usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='aprovacoes_requisicao', to=settings.AUTH_USER_MODEL, verbose_name='Usuário'),
        ),
        migrations.AddField(
            model_name='movimentacaoprojetada',
            name='cenario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='movimentacoes_planejadas', to='gestao_rural.cenarioplanejamento', verbose_name='Cenário'),
        ),
        migrations.AddField(
            model_name='movimentacaoprojetada',
            name='planejamento',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='movimentacoes_planejadas', to='gestao_rural.planejamentoanual', verbose_name='Planejamento anual'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='centro_custo',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra', to='gestao_rural.centrocusto', verbose_name='Centro de Custo'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='plano_conta',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra', to='gestao_rural.planoconta', verbose_name='Plano de Contas'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='requisicao_origem',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_geradas', to='gestao_rural.requisicaocompra', verbose_name='Requisição de Origem'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='setor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra', to='gestao_rural.setorpropriedade', verbose_name='Setor Responsável'),
        ),
        migrations.AddConstraint(
            model_name='setorpropriedade',
            constraint=models.UniqueConstraint(fields=('propriedade', 'nome'), name='unique_setor_por_propriedade_nome'),
        ),
        migrations.AddConstraint(
            model_name='planoconta',
            constraint=models.UniqueConstraint(fields=('propriedade', 'codigo'), name='unique_plano_conta_por_propriedade_codigo'),
        ),
        migrations.AlterUniqueTogether(
            name='planejamentoanual',
            unique_together={('propriedade', 'ano')},
        ),
        migrations.AddConstraint(
            model_name='parcelatitulo',
            constraint=models.UniqueConstraint(fields=('titulo', 'numero'), name='unique_numero_parcela_por_titulo'),
        ),
        migrations.AddConstraint(
            model_name='fechamentomensal',
            constraint=models.UniqueConstraint(fields=('propriedade', 'conta', 'ano', 'mes'), name='unique_fechamento_conta_mes'),
        ),
        migrations.AddConstraint(
            model_name='contafinanceira',
            constraint=models.UniqueConstraint(fields=('propriedade', 'nome'), name='unique_conta_financeira_por_propriedade_nome'),
        ),
        migrations.AddConstraint(
            model_name='centrocusto',
            constraint=models.UniqueConstraint(fields=('propriedade', 'codigo'), name='unique_centro_custo_por_propriedade_codigo'),
        ),
    ]

from decimal import Decimal
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('gestao_rural', '0029_loteiatf_categoria_animais_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='AprovacaoRequisicaoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('etapa', models.CharField(choices=[('GERENCIA', 'Gerência da Fazenda'), ('COMPRADOR', 'Comprador'), ('RESPONSAVEL_COMPRAS', 'Responsável de Compras'), ('RECEBIMENTO', 'Recebimento'), ('FINANCEIRO', 'Financeiro')], max_length=30, verbose_name='Etapa')),
                ('decisao', models.CharField(choices=[('PENDENTE', 'Pendente'), ('APROVADO', 'Aprovado'), ('REPROVADO', 'Reprovado'), ('DEVOLVIDO', 'Devolvido para Ajustes')], default='PENDENTE', max_length=20, verbose_name='Decisão')),
                ('comentario', models.TextField(blank=True, null=True, verbose_name='Comentário')),
                ('data_decisao', models.DateTimeField(blank=True, null=True, verbose_name='Data da Decisão')),
            ],
            options={
                'verbose_name': 'Aprovação de Requisição',
                'verbose_name_plural': 'Aprovações de Requisição',
                'ordering': ['-data_decisao'],
            },
        ),
        migrations.CreateModel(
            name='AtividadePlanejada',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_atividade', models.CharField(max_length=120, verbose_name='Tipo de atividade')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição / Observações')),
                ('data_inicio_prevista', models.DateField(verbose_name='Data de início prevista')),
                ('data_fim_prevista', models.DateField(blank=True, null=True, verbose_name='Data de término prevista')),
                ('responsavel', models.CharField(blank=True, max_length=120, verbose_name='Responsável')),
                ('custo_previsto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Custo previsto (R$)')),
                ('indicador_alvo', models.CharField(blank=True, max_length=120, verbose_name='Indicador alvo (ex: taxa prenhez)')),
                ('status', models.CharField(choices=[('AGENDADA', 'Agendada'), ('EM_EXECUCAO', 'Em execução'), ('CONCLUIDA', 'Concluída'), ('CANCELADA', 'Cancelada'), ('ATRASADA', 'Atrasada')], default='AGENDADA', max_length=15, verbose_name='Status da atividade')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestao_rural.categoriaanimal', verbose_name='Categoria envolvida')),
            ],
            options={
                'verbose_name': 'Atividade Planejada',
                'verbose_name_plural': 'Atividades Planejadas',
                'ordering': ['data_inicio_prevista', 'tipo_atividade'],
            },
        ),
        migrations.CreateModel(
            name='CenarioPlanejamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome do cenário')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('is_baseline', models.BooleanField(default=False, verbose_name='É cenário base?')),
                ('ajuste_preco_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de preço (%)')),
                ('ajuste_custo_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de custo (%)')),
                ('ajuste_producao_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de produção (%)')),
                ('ajuste_taxas_percentual', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Ajuste de taxas (%)')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Cenário de Planejamento',
                'verbose_name_plural': 'Cenários de Planejamento',
                'ordering': ['-is_baseline', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='CentroCusto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome')),
                ('codigo', models.CharField(help_text='Código curto para relatórios e integrações.', max_length=30, verbose_name='Código')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='centros_custo', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Centro de Custo',
                'verbose_name_plural': 'Centros de Custo',
                'ordering': ['propriedade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='ContaFinanceira',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome')),
                ('instituicao', models.CharField(blank=True, max_length=120, verbose_name='Instituição')),
                ('tipo', models.CharField(choices=[('CAIXA', 'Caixa'), ('CORRENTE', 'Conta Corrente'), ('POUPANCA', 'Poupança'), ('INVESTIMENTO', 'Investimento'), ('DIGITAL', 'Conta Digital')], default='CORRENTE', max_length=15, verbose_name='Tipo')),
                ('numero_agencia', models.CharField(blank=True, max_length=20, verbose_name='Agência')),
                ('numero_conta', models.CharField(blank=True, max_length=30, verbose_name='Conta')),
                ('saldo_inicial', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saldo Inicial')),
                ('data_saldo_inicial', models.DateField(default=django.utils.timezone.now, verbose_name='Data do Saldo Inicial')),
                ('moeda', models.CharField(default='BRL', max_length=10, verbose_name='Moeda')),
                ('ativa', models.BooleanField(default=True, verbose_name='Ativa')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contas_financeiras', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Conta Financeira',
                'verbose_name_plural': 'Contas Financeiras',
                'ordering': ['propriedade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='CotacaoFornecedor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('EM_ANDAMENTO', 'Em Andamento'), ('RECEBIDA', 'Recebida'), ('SELECIONADA', 'Selecionada'), ('NAO_SELECIONADA', 'Não Selecionada'), ('CANCELADA', 'Cancelada')], default='EM_ANDAMENTO', max_length=20, verbose_name='Status')),
                ('prazo_entrega_estimado', models.CharField(blank=True, max_length=120, null=True, verbose_name='Prazo de Entrega Estimado')),
                ('validade_proposta', models.DateField(blank=True, null=True, verbose_name='Validade da Proposta')),
                ('condicoes_pagamento', models.CharField(blank=True, max_length=200, null=True, verbose_name='Condições de Pagamento')),
                ('valor_frete', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor do Frete (R$)')),
                ('valor_total', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Total Cotado (R$)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('anexo_proposta', models.FileField(blank=True, null=True, upload_to='compras/cotacoes/', verbose_name='Proposta Anexada')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data de Registro')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
                ('comprador', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='cotacoes_registradas', to=settings.AUTH_USER_MODEL, verbose_name='Comprador Responsável')),
                ('fornecedor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cotacoes', to='gestao_rural.fornecedor', verbose_name='Fornecedor')),
            ],
            options={
                'verbose_name': 'Cotação de Fornecedor',
                'verbose_name_plural': 'Cotações de Fornecedores',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='EventoFluxoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('etapa', models.CharField(choices=[('CRIACAO', 'Criação'), ('ENVIO', 'Envio para Aprovação'), ('APROVACAO_GERENCIA', 'Aprovação Gerência'), ('COTACAO', 'Cotação'), ('APROVACAO_COMPRAS', 'Aprovação Compras'), ('EMISSAO_OC', 'Emissão de OC'), ('RECEBIMENTO', 'Recebimento'), ('FINANCEIRO', 'Financeiro'), ('AUTORIZACAO_SETOR', 'Autorização do Setor'), ('CANCELAMENTO', 'Cancelamento'), ('OUTROS', 'Outros')], default='OUTROS', max_length=40, verbose_name='Etapa')),
                ('status_anterior', models.CharField(blank=True, max_length=40, null=True, verbose_name='Status Anterior')),
                ('status_novo', models.CharField(blank=True, max_length=40, null=True, verbose_name='Status Novo')),
                ('comentario', models.TextField(blank=True, null=True, verbose_name='Comentário')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data do Evento')),
            ],
            options={
                'verbose_name': 'Evento do Fluxo de Compras',
                'verbose_name_plural': 'Eventos do Fluxo de Compras',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='FechamentoMensal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('ano', models.PositiveIntegerField(verbose_name='Ano de Referência')),
                ('mes', models.PositiveIntegerField(verbose_name='Mês de Referência')),
                ('saldo_inicial', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saldo Inicial')),
                ('entradas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Entradas')),
                ('saidas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saídas')),
                ('saldo_final', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Saldo Final')),
                ('conta', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fechamentos', to='gestao_rural.contafinanceira')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fechamentos_financeiros', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Fechamento Mensal',
                'verbose_name_plural': 'Fechamentos Mensais',
                'ordering': ['-ano', '-mes', 'conta__nome'],
            },
        ),
        migrations.CreateModel(
            name='IndicadorPlanejado',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome do indicador')),
                ('unidade', models.CharField(default='%', max_length=30, verbose_name='Unidade')),
                ('valor_meta', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Meta planejada')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('prioridade', models.PositiveSmallIntegerField(default=3, verbose_name='Prioridade (1-5)')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Indicador Planejado',
                'verbose_name_plural': 'Indicadores Planejados',
                'ordering': ['prioridade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='ItemCotacaoFornecedor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição')),
                ('unidade_medida', models.CharField(default='UN', max_length=10, verbose_name='Unidade')),
                ('quantidade', models.DecimalField(decimal_places=3, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.001'))], verbose_name='Quantidade')),
                ('valor_unitario', models.DecimalField(decimal_places=2, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Unitário (R$)')),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=14, verbose_name='Valor Total (R$)')),
                ('cotacao', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='gestao_rural.cotacaofornecedor', verbose_name='Cotação')),
            ],
            options={
                'verbose_name': 'Item de Cotação',
                'verbose_name_plural': 'Itens de Cotação',
                'ordering': ['cotacao', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='ItemRecebimentoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantidade_recebida', models.DecimalField(decimal_places=3, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.000'))], verbose_name='Quantidade Recebida')),
                ('divergencia', models.BooleanField(default=False, verbose_name='Possui Divergência?')),
                ('justificativa_divergencia', models.TextField(blank=True, null=True, verbose_name='Justificativa da Divergência')),
                ('item_ordem', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recebimentos', to='gestao_rural.itemordemcompra', verbose_name='Item da Ordem')),
            ],
            options={
                'verbose_name': 'Item Recebido',
                'verbose_name_plural': 'Itens Recebidos',
                'ordering': ['recebimento', 'item_ordem'],
            },
        ),
        migrations.CreateModel(
            name='ItemRequisicaoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição do Item')),
                ('unidade_medida', models.CharField(choices=[('UN', 'Unidade'), ('KG', 'Quilograma'), ('L', 'Litro'), ('SC', 'Saca'), ('CX', 'Caixa'), ('MT', 'Metro'), ('OUTROS', 'Outros')], default='UN', max_length=10, verbose_name='Unidade de Medida')),
                ('quantidade', models.DecimalField(decimal_places=3, max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.001'))], verbose_name='Quantidade')),
                ('valor_estimado_unitario', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Estimado Unitário (R$)')),
                ('fornecedor_preferencial', models.CharField(blank=True, max_length=200, null=True, verbose_name='Fornecedor Preferencial')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações do Item')),
            ],
            options={
                'verbose_name': 'Item de Requisição de Compra',
                'verbose_name_plural': 'Itens de Requisição de Compra',
                'ordering': ['requisicao', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='MetaComercialPlanejada',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantidade_animais', models.PositiveIntegerField(default=0, verbose_name='Quantidade de animais')),
                ('arrobas_totais', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Arrobas totais')),
                ('preco_medio_esperado', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10, verbose_name='Preço médio esperado (R$/@ ou cabeça)')),
                ('canal_venda', models.CharField(blank=True, max_length=120, verbose_name='Canal de venda')),
                ('percentual_impostos', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Impostos e taxas (%)')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='gestao_rural.categoriaanimal', verbose_name='Categoria')),
            ],
            options={
                'verbose_name': 'Meta Comercial Planejada',
                'verbose_name_plural': 'Metas Comerciais Planejadas',
                'ordering': ['categoria__nome'],
            },
        ),
        migrations.CreateModel(
            name='MetaFinanceiraPlanejada',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.CharField(max_length=180, verbose_name='Descrição')),
                ('tipo_custo', models.CharField(choices=[('FIXO', 'Custo fixo'), ('VARIAVEL', 'Custo variável'), ('INVESTIMENTO', 'Investimento'), ('TAXA', 'Taxas e encargos'), ('OUTROS', 'Outros')], default='VARIAVEL', max_length=15, verbose_name='Tipo de custo')),
                ('valor_anual_previsto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12, verbose_name='Valor anual previsto (R$)')),
                ('indice_correcao', models.CharField(blank=True, max_length=60, verbose_name='Índice de correção')),
                ('percentual_correcao', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Percentual de correção (%)')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('criado_em', models.DateTimeField(auto_now_add=True)),
                ('atualizado_em', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Meta Financeira Planejada',
                'verbose_name_plural': 'Metas Financeiras Planejadas',
                'ordering': ['tipo_custo', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='MovimentoFinanceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('tipo', models.CharField(choices=[('ENTRADA', 'Entrada'), ('SAIDA', 'Saída'), ('TRANSFERENCIA', 'Transferência'), ('AJUSTE', 'Ajuste Manual')], max_length=15, verbose_name='Tipo de Movimento')),
                ('origem', models.CharField(choices=[('LIQUIDACAO', 'Liquidação de Parcela'), ('TRANSFERENCIA', 'Transferência entre Contas'), ('SALDO_INICIAL', 'Saldo Inicial'), ('AJUSTE', 'Ajuste Manual')], max_length=20, verbose_name='Origem do Movimento')),
                ('data_movimento', models.DateField(default=django.utils.timezone.now, verbose_name='Data do Movimento')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição')),
                ('valor_bruto', models.DecimalField(decimal_places=2, max_digits=14, verbose_name='Valor')),
                ('valor_taxas', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Taxas/Descontos')),
                ('valor_liquido', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Valor Líquido')),
                ('conciliado', models.BooleanField(default=False, verbose_name='Conciliado')),
                ('conciliado_em', models.DateTimeField(blank=True, null=True, verbose_name='Conciliado em')),
                ('conta', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='movimentos', to='gestao_rural.contafinanceira')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='movimentos_financeiros_criados', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Movimento Financeiro',
                'verbose_name_plural': 'Movimentos Financeiros',
                'ordering': ['-data_movimento', '-id'],
            },
        ),
        migrations.CreateModel(
            name='ParcelaTitulo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('numero', models.PositiveIntegerField(default=1, help_text='Número sequencial da parcela.', verbose_name='Número')),
                ('vencimento', models.DateField(verbose_name='Data de Vencimento')),
                ('valor_original', models.DecimalField(decimal_places=2, max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Original')),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Descontos')),
                ('valor_acrescimo', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Acréscimos')),
                ('valor_liquidado', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=14, verbose_name='Valor Liquidado')),
                ('status', models.CharField(choices=[('ABERTA', 'Em aberto'), ('AGENDADA', 'Agendada'), ('LIQUIDADA', 'Liquidada'), ('CANCELADA', 'Cancelada')], default='ABERTA', max_length=12, verbose_name='Status')),
                ('data_liquidacao', models.DateField(blank=True, null=True, verbose_name='Data de Liquidação')),
                ('conta_liquidacao', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='parcelas_liquidadas', to='gestao_rural.contafinanceira')),
            ],
            options={
                'verbose_name': 'Parcela de Título',
                'verbose_name_plural': 'Parcelas de Título',
                'ordering': ['titulo', 'numero'],
            },
        ),
        migrations.CreateModel(
            name='PlanejamentoAnual',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ano', models.PositiveIntegerField(verbose_name='Ano do Planejamento')),
                ('descricao', models.CharField(blank=True, max_length=255, verbose_name='Descrição resumida')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('EM_ANDAMENTO', 'Em andamento'), ('APROVADO', 'Aprovado'), ('CONCLUIDO', 'Concluído'), ('ARQUIVADO', 'Arquivado')], default='RASCUNHO', max_length=15, verbose_name='Status')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de criação')),
                ('data_atualizacao', models.DateTimeField(auto_now=True, verbose_name='Última atualização')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='planejamentos_pecuarios', to='gestao_rural.propriedade', verbose_name='Propriedade')),
            ],
            options={
                'verbose_name': 'Planejamento Anual Pecuário',
                'verbose_name_plural': 'Planejamentos Anuais Pecuários',
                'ordering': ['-ano', 'propriedade'],
            },
        ),
        migrations.CreateModel(
            name='PlanoConta',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('codigo', models.CharField(help_text='Código estruturado, ex: 1.1.01', max_length=20, verbose_name='Código')),
                ('nome', models.CharField(max_length=160, verbose_name='Nome')),
                ('tipo', models.CharField(choices=[('RECEITA', 'Receita'), ('DESPESA', 'Despesa'), ('TRANSFERENCIA', 'Transferência'), ('CAPITAL', 'Captação / Investimento')], max_length=15, verbose_name='Tipo')),
                ('descricao', models.TextField(blank=True, verbose_name='Descrição')),
                ('ordem', models.PositiveIntegerField(default=0, help_text='Utilizado para ordenar exibições personalizadas.', verbose_name='Ordem')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('conta_pai', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='contas_filhas', to='gestao_rural.planoconta')),
                ('propriedade', models.ForeignKey(blank=True, help_text='Quando vazio, o plano é compartilhado entre propriedades.', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='planos_conta', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Plano de Conta',
                'verbose_name_plural': 'Plano de Contas',
                'ordering': ['propriedade', 'codigo'],
            },
        ),
        migrations.CreateModel(
            name='RecebimentoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente'), ('RECEBIDO', 'Recebido'), ('DIVERGENCIA', 'Divergência'), ('CANCELADO', 'Cancelado')], default='PENDENTE', max_length=20, verbose_name='Status')),
                ('data_prevista', models.DateField(blank=True, null=True, verbose_name='Data Prevista')),
                ('data_recebimento', models.DateField(blank=True, null=True, verbose_name='Data de Recebimento')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('comprovante_assinado', models.FileField(blank=True, null=True, upload_to='compras/recebimentos/', verbose_name='Comprovante Assinado')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data de Registro')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
            ],
            options={
                'verbose_name': 'Recebimento de Compra',
                'verbose_name_plural': 'Recebimentos de Compra',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='RequisicaoCompra',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('ENVIADA', 'Aguardando Aprovação do Gerente'), ('REPROVADA_GERENCIA', 'Reprovada pela Gerência'), ('APROVADA_GERENCIA', 'Aprovada pela Gerência'), ('EM_COTACAO', 'Em Cotação'), ('AGUARDANDO_APROVACAO_COMPRAS', 'Aguardando Aprovação de Compras'), ('REPROVADA_COMPRAS', 'Reprovada por Compras'), ('APROVADA_COMPRAS', 'Aprovada por Compras'), ('ORDEM_EMITIDA', 'Ordem de Compra Emitida'), ('AGUARDANDO_RECEBIMENTO', 'Aguardando Recebimento'), ('CONCLUIDA', 'Concluída'), ('CANCELADA', 'Cancelada')], default='RASCUNHO', max_length=40, verbose_name='Status')),
                ('prioridade', models.CharField(choices=[('BAIXA', 'Baixa'), ('MEDIA', 'Média'), ('ALTA', 'Alta'), ('URGENTE', 'Urgente')], default='MEDIA', max_length=10, verbose_name='Prioridade')),
                ('titulo', models.CharField(max_length=200, verbose_name='Título')),
                ('justificativa', models.TextField(verbose_name='Justificativa')),
                ('data_necessidade', models.DateField(blank=True, null=True, verbose_name='Data de Necessidade')),
                ('centro_custo_descricao', models.CharField(blank=True, max_length=120, null=True, verbose_name='Centro de Custo (Manual)')),
                ('observacoes', models.TextField(blank=True, null=True, verbose_name='Observações')),
                ('motivo_cancelamento', models.TextField(blank=True, null=True, verbose_name='Motivo do Cancelamento')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
                ('enviado_em', models.DateTimeField(blank=True, null=True, verbose_name='Data de Envio')),
                ('concluido_em', models.DateTimeField(blank=True, null=True, verbose_name='Data de Conclusão')),
                ('centro_custo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_compra', to='gestao_rural.centrocusto', verbose_name='Centro de Custo')),
                ('equipamento', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_compra', to='gestao_rural.equipamento', verbose_name='Máquina/Equipamento')),
            ],
            options={
                'verbose_name': 'Requisição de Compra',
                'verbose_name_plural': 'Requisições de Compra',
                'ordering': ['-criado_em'],
            },
        ),
        migrations.CreateModel(
            name='SetorPropriedade',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=120, verbose_name='Nome do Setor')),
                ('codigo', models.CharField(blank=True, help_text='Identificador curto usado em relatórios e integrações.', max_length=30, null=True, verbose_name='Código Interno')),
                ('descricao', models.TextField(blank=True, null=True, verbose_name='Descrição / Escopo')),
                ('ativo', models.BooleanField(default=True, verbose_name='Ativo')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Cadastro')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='setores_propriedade', to='gestao_rural.propriedade', verbose_name='Propriedade')),
                ('responsavel', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='setores_responsaveis', to=settings.AUTH_USER_MODEL, verbose_name='Responsável')),
            ],
            options={
                'verbose_name': 'Setor da Propriedade',
                'verbose_name_plural': 'Setores da Propriedade',
                'ordering': ['propriedade', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='TituloFinanceiro',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('tipo', models.CharField(choices=[('PAGAR', 'Conta a Pagar'), ('RECEBER', 'Conta a Receber')], max_length=10, verbose_name='Tipo do Título')),
                ('numero', models.CharField(blank=True, help_text='Identificador interno ou número de documento.', max_length=40, verbose_name='Número')),
                ('descricao', models.CharField(max_length=255, verbose_name='Descrição')),
                ('data_emissao', models.DateField(default=django.utils.timezone.now, verbose_name='Data de Emissão')),
                ('data_competencia', models.DateField(blank=True, help_text='Utilizada para apuração contábil.', null=True, verbose_name='Data de Competência')),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Total')),
                ('status', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('ABERTO', 'Em aberto'), ('PARCIAL', 'Pago Parcialmente'), ('LIQUIDADO', 'Liquidado'), ('CANCELADO', 'Cancelado')], default='RASCUNHO', max_length=12, verbose_name='Status')),
                ('pessoa', models.CharField(blank=True, max_length=160, verbose_name='Fornecedor/Cliente')),
                ('documento_referencia', models.CharField(blank=True, max_length=60, verbose_name='Documento de Referência')),
                ('observacoes', models.TextField(blank=True, verbose_name='Observações')),
                ('centro_custo', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='titulos', to='gestao_rural.centrocusto')),
                ('conta_preferencial', models.ForeignKey(blank=True, help_text='Conta sugerida para liquidação.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='titulos_preferenciais', to='gestao_rural.contafinanceira')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='titulos_financeiros_criados', to=settings.AUTH_USER_MODEL)),
                ('plano_conta', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='titulos', to='gestao_rural.planoconta')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='titulos_financeiros', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Título Financeiro',
                'verbose_name_plural': 'Títulos Financeiros',
                'ordering': ['-data_emissao', 'descricao'],
            },
        ),
        migrations.CreateModel(
            name='TransferenciaFinanceira',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('criado_em', models.DateTimeField(auto_now_add=True, verbose_name='Criado em')),
                ('atualizado_em', models.DateTimeField(auto_now=True, verbose_name='Atualizado em')),
                ('data_transferencia', models.DateField(default=django.utils.timezone.now, verbose_name='Data da Transferência')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=14, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Valor Transferido')),
                ('descricao', models.CharField(blank=True, max_length=160, verbose_name='Descrição')),
                ('conta_destino', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias_destino', to='gestao_rural.contafinanceira')),
                ('conta_origem', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='transferencias_origem', to='gestao_rural.contafinanceira')),
                ('criado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transferencias_financeiras_criadas', to=settings.AUTH_USER_MODEL)),
                ('movimento_destino', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transferencia_destino', to='gestao_rural.movimentofinanceiro')),
                ('movimento_origem', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='transferencia_origem', to='gestao_rural.movimentofinanceiro')),
                ('propriedade', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transferencias_financeiras', to='gestao_rural.propriedade')),
            ],
            options={
                'verbose_name': 'Transferência Financeira',
                'verbose_name_plural': 'Transferências Financeiras',
                'ordering': ['-data_transferencia', '-id'],
            },
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_data',
            field=models.DateTimeField(blank=True, null=True, verbose_name='Data Autorização Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_observacoes',
            field=models.TextField(blank=True, null=True, verbose_name='Observações da Autorização do Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_status',
            field=models.CharField(choices=[('PENDENTE', 'Pendente'), ('AUTORIZADA', 'Autorizada'), ('NEGADA', 'Negada')], default='PENDENTE', max_length=15, verbose_name='Status Autorização Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='autorizacao_setor_usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra_autorizadas_setor', to=settings.AUTH_USER_MODEL, verbose_name='Responsável Autorização Setor'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='centro_custo_descricao',
            field=models.CharField(blank=True, max_length=120, null=True, verbose_name='Centro de Custo (Manual)'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='ordem_compra',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_origem', to='gestao_rural.ordemcompra', verbose_name='Ordem de Compra Gerada'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='plano_conta',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes_compra', to='gestao_rural.planoconta', verbose_name='Plano de Contas'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='propriedade',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='requisicoes_compra', to='gestao_rural.propriedade', verbose_name='Propriedade'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='setor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='requisicoes', to='gestao_rural.setorpropriedade', verbose_name='Setor Solicitante'),
        ),
        migrations.AddField(
            model_name='requisicaocompra',
            name='solicitante',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='requisicoes_compra_criadas', to=settings.AUTH_USER_MODEL, verbose_name='Solicitante'),
        ),
        migrations.AddField(
            model_name='recebimentocompra',
            name='ordem_compra',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='recebimentos', to='gestao_rural.ordemcompra', verbose_name='Ordem de Compra'),
        ),
        migrations.AddField(
            model_name='recebimentocompra',
            name='responsavel',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='recebimentos_registrados', to=settings.AUTH_USER_MODEL, verbose_name='Responsável Pelo Recebimento'),
        ),
        migrations.AddField(
            model_name='parcelatitulo',
            name='titulo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas', to='gestao_rural.titulofinanceiro'),
        ),
        migrations.AddField(
            model_name='movimentofinanceiro',
            name='parcela',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='movimentos', to='gestao_rural.parcelatitulo'),
        ),
        migrations.AddField(
            model_name='movimentofinanceiro',
            name='propriedade',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='movimentos_financeiros', to='gestao_rural.propriedade'),
        ),
        migrations.AddField(
            model_name='metafinanceiraplanejada',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metas_financeiras', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='metacomercialplanejada',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metas_comerciais', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='itemrequisicaocompra',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='itemrecebimentocompra',
            name='recebimento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='gestao_rural.recebimentocompra', verbose_name='Recebimento'),
        ),
        migrations.AddField(
            model_name='itemcotacaofornecedor',
            name='item_requisicao',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='itens_cotados', to='gestao_rural.itemrequisicaocompra', verbose_name='Item da Requisição'),
        ),
        migrations.AddField(
            model_name='indicadorplanejado',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='indicadores_planejados', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='eventofluxocompra',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='eventos_fluxo', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='eventofluxocompra',
            name='usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='eventos_fluxo_compra', to=settings.AUTH_USER_MODEL, verbose_name='Usuário'),
        ),
        migrations.AddField(
            model_name='cotacaofornecedor',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cotacoes', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='cenarioplanejamento',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cenarios', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='atividadeplanejada',
            name='planejamento',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='atividades', to='gestao_rural.planejamentoanual', verbose_name='Planejamento'),
        ),
        migrations.AddField(
            model_name='aprovacaorequisicaocompra',
            name='requisicao',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='aprovacoes', to='gestao_rural.requisicaocompra', verbose_name='Requisição'),
        ),
        migrations.AddField(
            model_name='aprovacaorequisicaocompra',
            name='usuario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='aprovacoes_requisicao', to=settings.AUTH_USER_MODEL, verbose_name='Usuário'),
        ),
        migrations.AddField(
            model_name='movimentacaoprojetada',
            name='cenario',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='movimentacoes_planejadas', to='gestao_rural.cenarioplanejamento', verbose_name='Cenário'),
        ),
        migrations.AddField(
            model_name='movimentacaoprojetada',
            name='planejamento',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='movimentacoes_planejadas', to='gestao_rural.planejamentoanual', verbose_name='Planejamento anual'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='centro_custo',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra', to='gestao_rural.centrocusto', verbose_name='Centro de Custo'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='plano_conta',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra', to='gestao_rural.planoconta', verbose_name='Plano de Contas'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='requisicao_origem',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_geradas', to='gestao_rural.requisicaocompra', verbose_name='Requisição de Origem'),
        ),
        migrations.AddField(
            model_name='ordemcompra',
            name='setor',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ordens_compra', to='gestao_rural.setorpropriedade', verbose_name='Setor Responsável'),
        ),
        migrations.AddConstraint(
            model_name='setorpropriedade',
            constraint=models.UniqueConstraint(fields=('propriedade', 'nome'), name='unique_setor_por_propriedade_nome'),
        ),
        migrations.AddConstraint(
            model_name='planoconta',
            constraint=models.UniqueConstraint(fields=('propriedade', 'codigo'), name='unique_plano_conta_por_propriedade_codigo'),
        ),
        migrations.AlterUniqueTogether(
            name='planejamentoanual',
            unique_together={('propriedade', 'ano')},
        ),
        migrations.AddConstraint(
            model_name='parcelatitulo',
            constraint=models.UniqueConstraint(fields=('titulo', 'numero'), name='unique_numero_parcela_por_titulo'),
        ),
        migrations.AddConstraint(
            model_name='fechamentomensal',
            constraint=models.UniqueConstraint(fields=('propriedade', 'conta', 'ano', 'mes'), name='unique_fechamento_conta_mes'),
        ),
        migrations.AddConstraint(
            model_name='contafinanceira',
            constraint=models.UniqueConstraint(fields=('propriedade', 'nome'), name='unique_conta_financeira_por_propriedade_nome'),
        ),
        migrations.AddConstraint(
            model_name='centrocusto',
            constraint=models.UniqueConstraint(fields=('propriedade', 'codigo'), name='unique_centro_custo_por_propriedade_codigo'),
        ),
    ]
