# APIs de CPF Dispon√≠veis no Brasil - Custos e Compara√ß√£o

## ‚ö†Ô∏è Resumo Executivo

**N√£o existem APIs p√∫blicas gratuitas** para consulta completa de dados de CPF no Brasil. Todas as solu√ß√µes dispon√≠veis s√£o pagas, devido a quest√µes de privacidade e LGPD.

---

## üìä Compara√ß√£o de APIs Dispon√≠veis

### 1. **Serpro (Governo Federal)** ‚≠ê Recomendado para Volume Alto

#### **Caracter√≠sticas:**
- ‚úÖ **Fonte oficial**: Dados diretos da Receita Federal
- ‚úÖ **Mais confi√°vel**: Fonte governamental
- ‚úÖ **Dados completos**: Nome, data de nascimento, situa√ß√£o cadastral, etc.
- ‚úÖ **Inclui nome social** (vers√£o atualizada)
- ‚ö†Ô∏è **Requisitos**: Certificado digital e-CNPJ obrigat√≥rio
- ‚ö†Ô∏è **Processo**: Contrata√ß√£o via Loja Serpro (pode ser burocr√°tico)

#### **Tabela de Pre√ßos (2024):**

| Faixa | Consultas Mensais | Pre√ßo por Consulta (R$) |
|-------|-------------------|-------------------------|
| 1 | 0 a 999 | **R$ 0,6591** |
| 2 | 1.000 a 9.999 | **R$ 0,5649** |
| 3 | 10.000 a 49.999 | **R$ 0,3557** |
| 4 | 50.000 a 99.999 | **R$ 0,2616** |
| 5 | 100.000 a 249.999 | **R$ 0,1779** |
| 6 | 250.000 a 499.999 | **R$ 0,1569** |
| 7 | 500.000 a 999.999 | **R$ 0,1465** |
| 8 | 1.000.000 a 1.499.999 | **R$ 0,1360** |
| 9 | 1.500.000 a 2.999.999 | **R$ 0,1151** |
| 10 | 3.000.000 a 4.499.999 | **R$ 0,0732** |
| 11 | 4.500.000 a 9.999.999 | **R$ 0,0523** |
| 12 | 10.000.000 a 16.999.999 | **R$ 0,0314** |
| 13 | 17.000.000 a 19.999.999 | **R$ 0,025** |
| 14 | 20.000.000 a 24.999.999 | **R$ 0,023** |
| 15 | 25.000.000 a 29.999.999 | **R$ 0,020** |
| 16 | Acima de 30.000.000 | **R$ 0,017** |

#### **Exemplo de Custo:**
- **100 consultas/m√™s**: R$ 65,91
- **1.000 consultas/m√™s**: R$ 564,90
- **10.000 consultas/m√™s**: R$ 3.557,00

#### **Links:**
- **Loja Serpro**: https://loja.serpro.gov.br/en/consultacpf
- **Documenta√ß√£o**: https://www.gov.br/pt-br/servicos/obter-solucao-de-consulta-de-dados-de-cadastro-de-pessoa-fisica-cpf

---

### 2. **Brasil API F√°cil** ‚≠ê Recomendado para Volume Baixo/M√©dio

#### **Caracter√≠sticas:**
- ‚úÖ **F√°cil integra√ß√£o**: API REST simples
- ‚úÖ **Pay-per-use**: Paga apenas pelo que usar
- ‚úÖ **Sem mensalidade**: Sem custos fixos
- ‚úÖ **Cr√©dito gr√°tis**: R$ 1,00 para novos usu√°rios
- ‚úÖ **Reembolso autom√°tico**: Em caso de erro
- ‚ö†Ô∏è **Dados limitados**: N√£o retorna todos os dados completos

#### **Pre√ßos (2025):**

| Servi√ßo | Pre√ßo por Consulta |
|---------|---------------------|
| **Valida√ß√£o de Maioridade** | **R$ 0,10** |
| **Consulta de G√™nero** | **R$ 0,05** |
| **Consulta Completa CPF** | *Consultar site* |

#### **Exemplo de Custo:**
- **100 consultas/m√™s**: R$ 10,00 (maioridade) ou R$ 5,00 (g√™nero)
- **1.000 consultas/m√™s**: R$ 100,00 (maioridade) ou R$ 50,00 (g√™nero)

#### **Links:**
- **Site**: https://brasilapifacil.com.br/apis/cpf
- **Documenta√ß√£o**: https://brasilapifacil.com.br/docs/cpf

---

### 3. **SimpleData** ‚≠ê Recomendado para M√∫ltiplas Consultas

#### **Caracter√≠sticas:**
- ‚úÖ **API unificada**: CPF, CNPJ, CEP, Detran, ANVISA em uma √∫nica API
- ‚úÖ **Pay-per-use**: Sem mensalidades fixas
- ‚úÖ **M√∫ltiplas fontes**: Integra v√°rias bases de dados
- ‚ö†Ô∏è **Pre√ßos vari√°veis**: Dependem do tipo de consulta

#### **Pre√ßos:**
- **Modelo**: Pay-per-use (consultar site para valores atualizados)
- **Vantagem**: Pode ser mais barato se usar m√∫ltiplos servi√ßos

#### **Links:**
- **Site**: https://simpledata.com.br/
- **Documenta√ß√£o**: Consultar site

---

### 4. **DataBrasil**

#### **Caracter√≠sticas:**
- ‚úÖ **Planos mensais**: Com volume fixo de consultas
- ‚úÖ **M√∫ltiplos servi√ßos**: CPF, CNPJ, CEP
- ‚ö†Ô∏è **Mensalidade fixa**: Mesmo sem usar todas as consultas

#### **Pre√ßos (Exemplo):**
- **Plano B√°sico**: R$ 99,00/m√™s para 1.000 consultas de CPF
- **Outros planos**: Consultar site

#### **Links:**
- **Site**: https://databrasil.net/

---

### 5. **API CPF/CNPJ (cpf.com.br)**

#### **Caracter√≠sticas:**
- ‚úÖ **Consultas em tempo real**
- ‚úÖ **Planos variados**: Conforme volume
- ‚ö†Ô∏è **Pre√ßos**: Consultar site

#### **Links:**
- **Site**: https://www.cpf.com.br/precos/

---

## üí∞ Compara√ß√£o de Custos (Exemplo: 1.000 consultas/m√™s)

| API | Custo Mensal (1.000 consultas) | Observa√ß√µes |
|-----|--------------------------------|-------------|
| **Serpro** | **R$ 564,90** | Mais caro, mas mais confi√°vel |
| **Brasil API F√°cil** | **R$ 100,00** (maioridade) | Mais barato, dados limitados |
| **DataBrasil** | **R$ 99,00** | Plano mensal fixo |
| **SimpleData** | *Consultar* | Varia conforme servi√ßo |

---

## üéØ Recomenda√ß√µes por Perfil

### **Volume Baixo (< 100 consultas/m√™s)**
- **Recomenda√ß√£o**: **Brasil API F√°cil** ou **DataBrasil**
- **Motivo**: Custo mais baixo, f√°cil integra√ß√£o

### **Volume M√©dio (100 a 10.000 consultas/m√™s)**
- **Recomenda√ß√£o**: **Brasil API F√°cil** ou **SimpleData**
- **Motivo**: Pay-per-use, sem mensalidade fixa

### **Volume Alto (> 10.000 consultas/m√™s)**
- **Recomenda√ß√£o**: **Serpro**
- **Motivo**: Melhor custo por consulta em volume alto, fonte oficial

### **Necessidade de Dados Oficiais**
- **Recomenda√ß√£o**: **Serpro**
- **Motivo**: √önica fonte oficial (Receita Federal)

---

## üîß Como Integrar (Exemplo: Brasil API F√°cil)

### 1. **Cadastro e Obten√ß√£o de Token**

1. Acesse: https://brasilapifacil.com.br/
2. Crie uma conta
3. Obtenha seu token de API
4. Receba R$ 1,00 de cr√©dito gr√°tis para testar

### 2. **Adicionar Configura√ß√£o no Django**

```python
# settings.py
BRASIL_API_FACIL_TOKEN = os.getenv('BRASIL_API_FACIL_TOKEN', '')
```

### 3. **Atualizar Servi√ßo de Consulta**

```python
# gestao_rural/services/consulta_cpf_cnpj.py

def consultar_cpf_com_api_paga(self, cpf: str) -> Optional[Dict]:
    """
    Consulta CPF usando Brasil API F√°cil
    """
    from django.conf import settings
    
    token = settings.BRASIL_API_FACIL_TOKEN
    if not token:
        return None  # API n√£o configurada
    
    cpf_limpo = self.limpar_cpf_cnpj(cpf)
    
    try:
        # Exemplo: Valida√ß√£o de maioridade
        url = "https://brasilapifacil.com.br/api/cpf/maioridade"
        headers = {
            'Authorization': f'Bearer {token}',
            'Content-Type': 'application/json'
        }
        data = {'cpf': cpf_limpo}
        
        response = requests.post(url, json=data, headers=headers, timeout=10)
        
        if response.status_code == 200:
            dados = response.json()
            return {
                'cpf_valido': True,
                'maior_idade': dados.get('maior_idade', False),
                # Adicionar outros campos conforme API disponibilizar
            }
    except Exception as e:
        logger.error(f"Erro ao consultar CPF via Brasil API F√°cil: {e}")
    
    return None
```

### 4. **Atualizar View**

```python
# gestao_rural/views.py

@login_required
def consultar_cpf_cnpj_api(request):
    from django.conf import settings
    from .services.consulta_cpf_cnpj import ConsultaCPFCNPJ
    
    cpf_cnpj = request.GET.get('cpf_cnpj', '').strip()
    
    service = ConsultaCPFCNPJ()
    
    # Verificar se √© CPF e se API paga est√° configurada
    valido, tipo = service.validar_cpf_cnpj(cpf_cnpj)
    
    if tipo == 'CPF' and settings.BRASIL_API_FACIL_TOKEN:
        # Tentar API paga primeiro
        dados = service.consultar_cpf_com_api_paga(cpf_cnpj)
        if dados:
            return JsonResponse({
                'success': True,
                'dados': dados,
                'fonte': 'brasil_api_facil'
            })
    
    # Fallback para consulta normal
    dados = consultar_dados_cpf_cnpj(cpf_cnpj)
    # ... resto do c√≥digo
```

---

## üìù Considera√ß√µes Importantes

### **1. LGPD e Privacidade**
- ‚úÖ Todas as APIs respeitam LGPD
- ‚úÖ Dados s√£o consultados apenas quando necess√°rio
- ‚úÖ N√£o armazenar dados de CPF sem consentimento

### **2. Custos Ocultos**
- ‚ö†Ô∏è Verificar se h√° taxas de setup
- ‚ö†Ô∏è Verificar limites de rate (consultas por minuto)
- ‚ö†Ô∏è Verificar se h√° custos de suporte

### **3. Confiabilidade**
- ‚úÖ Serpro: Mais confi√°vel (fonte oficial)
- ‚ö†Ô∏è APIs privadas: Verificar SLA e disponibilidade

### **4. Testes**
- ‚úÖ Sempre testar com cr√©ditos gr√°tis antes de contratar
- ‚úÖ Validar se os dados retornados atendem suas necessidades

---

## üöÄ Pr√≥ximos Passos

1. **Avaliar volume de consultas** necess√°rio por m√™s
2. **Comparar custos** conforme tabela acima
3. **Testar APIs** com cr√©ditos gr√°tis
4. **Escolher fornecedor** que melhor atende suas necessidades
5. **Implementar integra√ß√£o** seguindo exemplos acima

---

## üìö Links √öteis

- **Serpro**: https://loja.serpro.gov.br/en/consultacpf
- **Brasil API F√°cil**: https://brasilapifacil.com.br/apis/cpf
- **SimpleData**: https://simpledata.com.br/
- **DataBrasil**: https://databrasil.net/
- **API CPF/CNPJ**: https://www.cpf.com.br/precos/

---

**√öltima atualiza√ß√£o:** 2025-01-XX  
**Fonte:** Pesquisa web e sites oficiais das APIs  
**Nota:** Pre√ßos podem variar - sempre consultar sites oficiais para valores atualizados

