{% extends "base_modulos_unificado.html" %}
{% load static %}

{% block title %}Importar BND/SISBOV · {{ propriedade.nome_propriedade }}{% endblock %}

{% block extra_css %}
<style>
    .importar-bnd-wrapper {
        max-width: 1200px;
        margin: 0 auto;
    }

    .importar-bnd-card {
        background: #ffffff;
        border-radius: 20px;
        border: 1px solid rgba(15, 23, 42, 0.08);
        padding: 2rem 2.4rem;
        box-shadow: 0 32px 70px rgba(15, 23, 42, 0.08);
    }

    .importar-bnd-card h2 {
        font-weight: 700;
        color: #1e293b;
    }

    .importar-bnd-card p {
        color: #475569;
        line-height: 1.7;
    }

    .importar-bnd-steps {
        list-style: none;
        padding: 0;
        margin: 1.8rem 0 0;
    }

    .importar-bnd-steps li {
        display: flex;
        align-items: flex-start;
        gap: 0.9rem;
        padding: 1rem 0;
        border-bottom: 1px solid rgba(148, 163, 184, 0.35);
    }

    .importar-bnd-steps li:last-child {
        border-bottom: none;
    }

    .badge-step {
        width: 36px;
        height: 36px;
        border-radius: 12px;
        background: linear-gradient(135deg, #334155, #1e293b);
        color: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
    }

    .importar-bnd-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-top: 2.4rem;
    }

    .btn-bnd-main {
        background: linear-gradient(135deg, #0f172a, #1d3a70);
        color: #ffffff;
        border-radius: 999px;
        padding: 0.85rem 2.4rem;
        border: none;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.6rem;
        box-shadow: 0 18px 40px rgba(30, 58, 138, 0.28);
    }

    .btn-bnd-main:hover {
        color: #ffffff;
        transform: translateY(-1px);
    }

    .btn-bnd-outline {
        border-radius: 999px;
        border: 1px solid rgba(15, 23, 42, 0.24);
        padding: 0.85rem 2.2rem;
        color: #0f172a;
        font-weight: 500;
        background: #fff;
    }

    @media (max-width: 768px) {
        .importar-bnd-card {
            padding: 1.8rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="page-header mb-4">
    <div>
        <h1 class="page-title">Importar BND/SISBOV</h1>
        <p class="page-subtitle">Centralize a atualização do rebanho com dados oficiais emitidos no Portal SISBOV.</p>
    </div>
    <div class="breadcrumb">
        <a href="{% url 'propriedade_modulos' propriedade.id %}">Módulos</a>
        <span>/</span>
        <a href="{% url 'rastreabilidade_dashboard' propriedade.id %}">Rastreabilidade</a>
        <span>/</span>
        <span>Importar BND/SISBOV</span>
    </div>
</div>

<div class="importar-bnd-wrapper">
    <div class="importar-bnd-card">
        <h2>Integração em preparação</h2>
        <p>
            Estamos concluindo a automação da leitura dos arquivos oficiais gerados no Portal SISBOV
            (BND e XML). Nesta tela ficarão disponíveis as funcionalidades para subir os arquivos,
            validar divergências e atualizar automaticamente os registros dos animais.
        </p>
        <p>
            Enquanto a integração é finalizada, você pode manter o estoque de brincos atualizado e
            cadastrar animais manualmente pelos demais atalhos do módulo de rastreabilidade.
        </p>

        <ul class="importar-bnd-steps">
            <li>
                <span class="badge-step">1</span>
                <div>
                    <strong>Baixe o arquivo BND/SISBOV</strong>
                    <p class="mb-0">No Portal SISBOV, exporte o arquivo atualizado dos animais para a propriedade.</p>
                </div>
            </li>
            <li>
                <span class="badge-step">2</span>
                <div>
                    <strong>Importação assistida</strong>
                    <p class="mb-0">Aqui você poderá enviar o arquivo e acompanhar o status de processamento, com alertas de divergências.</p>
                </div>
            </li>
            <li>
                <span class="badge-step">3</span>
                <div>
                    <strong>Consolidação automática</strong>
                    <p class="mb-0">Os dados compatíveis serão aplicados diretamente ao cadastro dos animais e ao estoque de brincos.</p>
                </div>
            </li>
        </ul>

        <div class="importar-bnd-actions">
            <button class="btn-bnd-main" type="button" disabled>
                <i class="bi bi-cloud-arrow-up"></i>
                Importar arquivo SISBOV
            </button>
            <a class="btn-bnd-outline" href="{% url 'curral_dashboard' propriedade.id %}" target="_blank">
                <i class="bi bi-cpu me-1"></i> Acessar Curral Inteligente
            </a>
            <a class="btn-bnd-outline" href="{% url 'brincos_lista' propriedade.id %}" target="_blank">
                <i class="bi bi-tag me-1"></i> Gerenciar estoque de brincos
            </a>
        </div>
    </div>
</div>
{% endblock %}












